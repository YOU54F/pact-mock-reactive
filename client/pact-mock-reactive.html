<head>
  <title>pact-mock-reactive</title>
  <!--link rel="shortcut icon" href="pact-mock-reactive.ico"-->
</head>

<body>
  <br/>
  <div class="ui grid">
    <div class="one wide column"></div>
    <div class="eight wide column">
      <h2 class="ui header">
        <i class="spy icon"></i>
        <div class="content">
          Pack Mock Reactive UI
        </div>
      </h2>
    </div>
    <div class="two wide column">
      <div class="ui yellow button" id="pactsbutton">
        <i class="legal icon"></i>
        Pacts
      </div>
    </div>
    <div class="five wide column">
      <div class="ui green button" id="addbutton">
        <i class="plus icon"></i>
        Add
      </div>
      <div class="ui purple button" id="resetbutton">
        <i class="recycle icon"></i>
        Reset All
      </div>
      <div class="ui red button" id="clearbutton">
        <i class="erase icon"></i>
        Delete All
      </div>
    </div>
  </div>
  <br/>

  <div class="ui fluid styled accordion">
  {{#each interactions}}
    {{> interaction}}
  {{/each}}
  </div>

  {{> showPacts}}
  {{> addInteraction}}

</body>

<template name="interaction">
  <div class="ui icon buttons right floated">
    <div class="ui basic button" id="toggleInteraction">
      <i class="{{#if disabledHelper}}play{{else}}ban{{/if}} icon"></i>
    </div>
    <div class="ui basic button" id="removeInteraction">
      <i class="remove icon"></i>
    </div>
  </div>

  <div class="title">
    <div class="ui label {{#if receivedHelper}}green{{else}}red{{/if}}">{{countHelper}}</div>
    <span class="{{#if receivedHelper}}green{{else}}red{{/if}}">
    <i class="dropdown icon"></i>
      {{interaction.request.method}} {{interaction.request.path}}{{{queryHelper interaction.request.query}}}
    </span>
  </div>

  <div class="content">
    <div class="ui segment">
      <h4 class="ui center aligned header">
        <b>{{consumer}}&nbsp;&nbsp;&nbsp;<i class="long arrow right icon"></i>{{provider}}:</b>&nbsp;&nbsp;{{interaction.description}}
      </h4>

      <div class="ui two column grid">
        <div class="column" style="word-wrap: break-word">
          <div class="ui segment">
            <div class="ui right ribbon black label">
              <i class="mail outline icon"></i>Request
            </div>
            <div class="item">
              <div class="content">
                <div class="description">
                  <div class="ui pointing bottom label">Headers</div><br/>
                  <span class="blue">
                    {{{jsonHelper interaction.request.headers}}}
                  </span>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="content">
                <div class="description">
                  <div class="ui pointing bottom label">Body</div><br/>
                  <span class="blue">
                    {{{jsonHelper interaction.request.body}}}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="column" style="word-wrap: break-word">
          <div class="ui segment">
            <div class="ui right ribbon blue label">
              <i class="mail outline icon"></i>Response
            </div>
            <div class="item">
              <div class="content">
                <div class="description">
                  <div class="ui pointing bottom label">Headers</div><br/>
                  <span class="blue">
                    {{{jsonHelper interaction.response.headers}}}
                  </span>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="content">
                <div class="description">
                  <div class="ui pointing bottom label">Body</div><br/>
                  <span class="blue">
                    {{{jsonHelper interaction.response.body}}}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</template>

<template name="showPacts">
  <div class="ui long pacts modal">
    <i class="close icon"></i>
    <div class="ui horizontal header divider">
      <i class="legal icon"></i>
      Pacts
    </div>
    <div class="content">
      <div class="description blue courier">
        {{{pacts}}}
      </div>
    </div>
    <div class="actions">
      <div class="ui blue button" id="savepactsbutton">
        <i class="file text icon"></i>
        Save to Disk
      </div>
    </div>
  </div>
</template>

<template name="addInteraction">
  <div class="ui add modal">
    <i class="close icon"></i>
    <div class="header">
      Add Expected Interaction
    </div>
    <div class="content">
        Description: <input type="textbox" value="{{description}}"><br/>
        Consumer: <input type="textbox" value="{{consumer}}"><br/>
        Provider: <input type="textbox" value="{{provider}}"><br/>
        Method:
        <select>
          {{#each verbs}}
          <option value="{{name}}">{{name}}</option>
          {{/each}}
        </select><br/>
        Path: <input type="textbox" value="{{path}}"><br/>
        Query: <input type="textbox" value="{{query}}"><br/>

        Request Header object: <input type="textbox" value="{{reqHeaderObj}}"><br/>
        Request object: <input type="textbox" value="{{reqObj}}"><br/>
        Response Status: <input type="textbox" value="{{resStatus}}"><br/>
        Response Header object: <input type="textbox" value="{{resHeaderObj}}"><br/>
        Response object: <input type="textbox" value="{{resObj}}"><br/>
    </div>
    <div class="actions">
      <div class="ui red button">
        Cancel
      </div>
      <div class="ui positive right labeled icon button">
        Add
        <i class="checkmark icon"></i>
      </div>
    </div>
  </div>
</template>