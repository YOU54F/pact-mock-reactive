<head>
  <title>pact-mock-reactive</title>
  <!--link rel="shortcut icon" href="pact-mock-reactive.ico"-->
</head>

<body>

  <br/>
  <div class="ui grid">
    <div class="one wide column"></div>
    <div class="ten wide column">
      <h2 class="ui header">
        <i class="spy icon"></i>
        <div class="content">
          Pack Mock Reactive UI
        </div>
      </h2>
    </div>
    <div class="five wide column">
      <div class="ui yellow button" id="pactsbutton">
        <i class="legal icon"></i>
        Pacts
      </div>
      <div class="ui purple button" id="resetbutton">
        <i class="recycle icon"></i>
        Reset All
      </div>
      <div class="ui red button" id="clearbutton">
        <i class="erase icon"></i>
        Delete All
      </div>
    </div>
  </div>
  <br/>

  <div class="ui fluid styled accordion">
  {{#each interactions}}
    {{> interaction}}
  {{/each}}
  </div>

  <div class="ui long modal">
    <i class="close icon"></i>
    <div class="ui horizontal header divider">
      <i class="legal icon"></i>
      Pacts
    </div>
    <div class="content">
      <div class="description blue courier">
        {{{pacts}}}
      </div>
    </div>
    <div class="actions">
      <div class="ui button">Save to disk</div>
    </div>
  </div>

</body>

<template name="interaction">
  <div class="ui icon buttons right floated">
    <div class="ui basic button" id="toggleInteraction">
      <i class="{{#if disabledHelper}}play{{else}}ban{{/if}} icon"></i>
    </div>
    <div class="ui basic button" id="removeInteraction">
      <i class="remove icon"></i>
    </div>
  </div>

  <div class="title">
    <div class="ui label {{#if receivedHelper}}green{{else}}red{{/if}}">{{countHelper}}</div>
    <span class="{{#if receivedHelper}}green{{else}}red{{/if}}">
    <i class="dropdown icon"></i>
      {{interaction.request.method}} {{interaction.request.path}}{{{queryHelper interaction.request.query}}}
    </span>
  </div>

  <div class="content">
    <p><b>{{consumer}} - {{provider}}:</b> {{interaction.description}}</p>

    <div class="ui two column grid">
      <div class="column" style="word-wrap: break-word">
        <div class="ui segment">
          <div class="ui right ribbon black label">
            <i class="mail outline icon"></i>Request
          </div>
          <div class="item">
            <div class="content">
              <div class="description">
                <div class="ui pointing bottom label">Headers</div><br/>
                <span class="blue">
                  {{{jsonHelper interaction.request.headers '[empty]'}}}
                </span>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <div class="description">
                <div class="ui pointing bottom label">Body</div><br/>
                <span class="blue">
                  {{{jsonHelper interaction.request.body '[empty]'}}}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="column" style="word-wrap: break-word">
        <div class="ui segment">
          <div class="ui right ribbon blue label">
            <i class="mail outline icon"></i>Response
          </div>
          <div class="item">
            <div class="content">
              <div class="description">
                <div class="ui pointing bottom label">Headers</div><br/>
                <span class="blue">
                  {{{jsonHelper interaction.response.headers '[empty]'}}}
                </span>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <div class="description">
                <div class="ui pointing bottom label">Body</div><br/>
                <span class="blue">
                  {{{jsonHelper interaction.response.body '[empty]'}}}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</template>
